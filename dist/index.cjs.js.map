{"version":3,"file":"index.cjs.js","sources":["../src/index.js"],"sourcesContent":["export function promiseState(defaultResult) {\n  return new PromiseState(defaultResult);\n}\n\nclass PromiseState {\n  constructor(defaultResult) {\n    this._result = defaultResult;\n    this._error = undefined;\n    this._pending = false;\n    this._resolved = false;\n    this._rejected = false;\n  }\n\n  pending(trueOrFalse) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._pending;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._pending = !!trueOrFalse;\n    copy._resolved = false;\n    copy._rejected = false;\n    copy._error = undefined;\n\n    return copy;\n  }\n\n  resolved(trueOrFalse, result) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._resolved;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._resolved = !!trueOrFalse;\n    copy._pending = false;\n    copy._rejected = false;\n    copy._error = undefined;\n    copy._result = result;\n\n    return copy;\n  }\n\n  rejected(trueOrFalse, error) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._rejected;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._rejected = !!trueOrFalse;\n    copy._error = trueOrFalse ? error : undefined;\n    copy._pending = false;\n    copy._resolved = false;\n\n    return copy;\n  }\n\n  result() {\n    return this._result;\n  }\n\n  error() {\n    return this._error;\n  }\n\n  replaceResult(result) {\n    const copy = makeCopy(this);\n\n    copy._result = result;\n\n    return copy;\n  }\n\n  replaceError(error) {\n    const copy = makeCopy(this);\n\n    copy._error = error;\n\n    return copy;\n  }\n}\n\nfunction makeCopy(target) {\n  const copy = new PromiseState();\n\n  copy._result = target._result;\n  copy._error = target._error;\n  copy._pending = target._pending;\n  copy._resolved = target._resolved;\n  copy._rejected = target._rejected;\n\n  return copy;\n}\n\n\n"],"names":[],"mappings":"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"}