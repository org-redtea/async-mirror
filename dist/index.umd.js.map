{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["export function promiseState(defaultResult) {\n  return new PromiseState(defaultResult);\n}\n\nclass PromiseState {\n  constructor(defaultResult) {\n    this._result = defaultResult;\n    this._error = undefined;\n    this._pending = false;\n    this._resolved = false;\n    this._rejected = false;\n  }\n\n  pending(trueOrFalse) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._pending;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._pending = !!trueOrFalse;\n    copy._resolved = false;\n    copy._rejected = false;\n    copy._error = undefined;\n\n    return copy;\n  }\n\n  resolved(trueOrFalse, result) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._resolved;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._resolved = !!trueOrFalse;\n    copy._pending = false;\n    copy._rejected = false;\n    copy._error = undefined;\n    copy._result = result;\n\n    return copy;\n  }\n\n  rejected(trueOrFalse, error) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._rejected;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._rejected = !!trueOrFalse;\n    copy._error = trueOrFalse ? error : undefined;\n    copy._pending = false;\n    copy._resolved = false;\n\n    return copy;\n  }\n\n  result() {\n    return this._result;\n  }\n\n  error() {\n    return this._error;\n  }\n\n  replaceResult(result) {\n    const copy = makeCopy(this);\n\n    copy._result = result;\n\n    return copy;\n  }\n\n  replaceError(error) {\n    const copy = makeCopy(this);\n\n    copy._error = error;\n\n    return copy;\n  }\n}\n\nfunction makeCopy(target) {\n  const copy = new PromiseState();\n\n  copy._result = target._result;\n  copy._error = target._error;\n  copy._pending = target._pending;\n  copy._resolved = target._resolved;\n  copy._rejected = target._rejected;\n\n  return copy;\n}\n\n\n"],"names":["promiseState","defaultResult","PromiseState","_result","_error","undefined","_pending","_resolved","_rejected","trueOrFalse","copy","makeCopy","result","error","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,SAASA,YAAT,CAAsBC,aAAtB,EAAqC;EAC1C,SAAO,IAAIC,YAAJ,CAAiBD,aAAjB,CAAP;EACD;;MAEKC;;;EACJ,wBAAYD,aAAZ,EAA2B;EAAA;;EACzB,SAAKE,OAAL,GAAeF,aAAf;EACA,SAAKG,MAAL,GAAcC,SAAd;EACA,SAAKC,QAAL,GAAgB,KAAhB;EACA,SAAKC,SAAL,GAAiB,KAAjB;EACA,SAAKC,SAAL,GAAiB,KAAjB;EACD;;;;8BAEOC,aAAa;EACnB,UAAI,OAAOA,WAAP,KAAuB,SAA3B,EAAsC;EACpC,eAAO,KAAKH,QAAZ;EACD;;EAED,UAAMI,IAAI,GAAGC,QAAQ,CAAC,IAAD,CAArB;EAEAD,MAAAA,IAAI,CAACJ,QAAL,GAAgB,CAAC,CAACG,WAAlB;EACAC,MAAAA,IAAI,CAACH,SAAL,GAAiB,KAAjB;EACAG,MAAAA,IAAI,CAACF,SAAL,GAAiB,KAAjB;EACAE,MAAAA,IAAI,CAACN,MAAL,GAAcC,SAAd;EAEA,aAAOK,IAAP;EACD;;;+BAEQD,aAAaG,QAAQ;EAC5B,UAAI,OAAOH,WAAP,KAAuB,SAA3B,EAAsC;EACpC,eAAO,KAAKF,SAAZ;EACD;;EAED,UAAMG,IAAI,GAAGC,QAAQ,CAAC,IAAD,CAArB;EAEAD,MAAAA,IAAI,CAACH,SAAL,GAAiB,CAAC,CAACE,WAAnB;EACAC,MAAAA,IAAI,CAACJ,QAAL,GAAgB,KAAhB;EACAI,MAAAA,IAAI,CAACF,SAAL,GAAiB,KAAjB;EACAE,MAAAA,IAAI,CAACN,MAAL,GAAcC,SAAd;EACAK,MAAAA,IAAI,CAACP,OAAL,GAAeS,MAAf;EAEA,aAAOF,IAAP;EACD;;;+BAEQD,aAAaI,OAAO;EAC3B,UAAI,OAAOJ,WAAP,KAAuB,SAA3B,EAAsC;EACpC,eAAO,KAAKD,SAAZ;EACD;;EAED,UAAME,IAAI,GAAGC,QAAQ,CAAC,IAAD,CAArB;EAEAD,MAAAA,IAAI,CAACF,SAAL,GAAiB,CAAC,CAACC,WAAnB;EACAC,MAAAA,IAAI,CAACN,MAAL,GAAcK,WAAW,GAAGI,KAAH,GAAWR,SAApC;EACAK,MAAAA,IAAI,CAACJ,QAAL,GAAgB,KAAhB;EACAI,MAAAA,IAAI,CAACH,SAAL,GAAiB,KAAjB;EAEA,aAAOG,IAAP;EACD;;;+BAEQ;EACP,aAAO,KAAKP,OAAZ;EACD;;;8BAEO;EACN,aAAO,KAAKC,MAAZ;EACD;;;oCAEaQ,QAAQ;EACpB,UAAMF,IAAI,GAAGC,QAAQ,CAAC,IAAD,CAArB;EAEAD,MAAAA,IAAI,CAACP,OAAL,GAAeS,MAAf;EAEA,aAAOF,IAAP;EACD;;;mCAEYG,OAAO;EAClB,UAAMH,IAAI,GAAGC,QAAQ,CAAC,IAAD,CAArB;EAEAD,MAAAA,IAAI,CAACN,MAAL,GAAcS,KAAd;EAEA,aAAOH,IAAP;EACD;;;;;;EAGH,SAASC,QAAT,CAAkBG,MAAlB,EAA0B;EACxB,MAAMJ,IAAI,GAAG,IAAIR,YAAJ,EAAb;EAEAQ,EAAAA,IAAI,CAACP,OAAL,GAAeW,MAAM,CAACX,OAAtB;EACAO,EAAAA,IAAI,CAACN,MAAL,GAAcU,MAAM,CAACV,MAArB;EACAM,EAAAA,IAAI,CAACJ,QAAL,GAAgBQ,MAAM,CAACR,QAAvB;EACAI,EAAAA,IAAI,CAACH,SAAL,GAAiBO,MAAM,CAACP,SAAxB;EACAG,EAAAA,IAAI,CAACF,SAAL,GAAiBM,MAAM,CAACN,SAAxB;EAEA,SAAOE,IAAP;EACD;;;;;;;;;;;;"}