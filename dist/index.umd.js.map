{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["export function promiseState(defaultResult) {\n  return new PromiseState(defaultResult);\n}\n\nclass PromiseState {\n  constructor(defaultResult) {\n    this._result = defaultResult;\n    this._error = undefined;\n    this._pending = false;\n    this._resolved = false;\n    this._rejected = false;\n\n    this.pending = this.pending.bind(this);\n    this.resolved = this.resolved.bind(this);\n    this.rejected = this.rejected.bind(this);\n    this.result = this.result.bind(this);\n    this.error = this.error.bind(this);\n    this.replaceResult = this.replaceResult.bind(this);\n    this.replaceError = this.replaceError.bind(this);\n  }\n\n  pending(trueOrFalse) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._pending;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._pending = !!trueOrFalse;\n    copy._resolved = false;\n    copy._rejected = false;\n    copy._error = undefined;\n\n    return copy;\n  }\n\n  resolved(trueOrFalse, result) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._resolved;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._resolved = !!trueOrFalse;\n    copy._pending = false;\n    copy._rejected = false;\n    copy._error = undefined;\n    copy._result = result;\n\n    return copy;\n  }\n\n  rejected(trueOrFalse, error) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._rejected;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._rejected = !!trueOrFalse;\n    copy._error = trueOrFalse ? error : undefined;\n    copy._pending = false;\n    copy._resolved = false;\n\n    return copy;\n  }\n\n  result() {\n    return this._result;\n  }\n\n  error() {\n    return this._error;\n  }\n\n  replaceResult(result) {\n    const copy = makeCopy(this);\n\n    copy._result = result;\n\n    return copy;\n  }\n\n  replaceError(error) {\n    const copy = makeCopy(this);\n\n    copy._error = error;\n\n    return copy;\n  }\n}\n\nfunction makeCopy(target) {\n  const copy = new PromiseState();\n\n  copy._result = target._result;\n  copy._error = target._error;\n  copy._pending = target._pending;\n  copy._resolved = target._resolved;\n  copy._rejected = target._rejected;\n\n  return copy;\n}\n\n\n"],"names":["promiseState","defaultResult","PromiseState","_result","_error","undefined","_pending","_resolved","_rejected","pending","bind","resolved","rejected","result","error","replaceResult","replaceError","trueOrFalse","copy","makeCopy","target"],"mappings":"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"}