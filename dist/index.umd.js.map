{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["export function promiseState(defaultResult) {\n  return new PromiseState(defaultResult);\n}\n\nclass PromiseState {\n  constructor(defaultResult) {\n    this._result = defaultResult;\n    this._error = undefined;\n    this._pending = false;\n    this._resolved = false;\n    this._rejected = false;\n  }\n\n  pending(trueOrFalse) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._pending;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._pending = !!trueOrFalse;\n    copy._resolved = false;\n    copy._rejected = false;\n    copy._error = undefined;\n\n    return copy;\n  }\n\n  resolved(trueOrFalse, result) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._resolved;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._resolved = !!trueOrFalse;\n    copy._pending = false;\n    copy._rejected = false;\n    copy._error = undefined;\n    copy._result = result;\n\n    return copy;\n  }\n\n  rejected(trueOrFalse, error) {\n    if (typeof trueOrFalse !== 'boolean') {\n      return this._rejected;\n    }\n\n    const copy = makeCopy(this);\n\n    copy._rejected = !!trueOrFalse;\n    copy._error = trueOrFalse ? error : undefined;\n    copy._pending = false;\n    copy._resolved = false;\n\n    return copy;\n  }\n\n  result() {\n    return this._result;\n  }\n\n  error() {\n    return this._error;\n  }\n}\n\nfunction makeCopy(target) {\n  const copy = new PromiseState();\n\n  copy._result = target._result;\n  copy._error = target._error;\n  copy._pending = target._pending;\n  copy._resolved = target._resolved;\n  copy._rejected = target._rejected;\n\n  return copy;\n}\n\n\n"],"names":[],"mappings":"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"}